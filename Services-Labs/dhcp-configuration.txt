! DHCP Server Configuration for Multiple VLANs
! Created: March 2024
! Lab: Centralized DHCP Services

! Exclude addresses from DHCP pools
ip dhcp excluded-address 192.168.10.1 192.168.10.10
ip dhcp excluded-address 192.168.20.1 192.168.20.10
ip dhcp excluded-address 192.168.30.1 192.168.30.10

! Admin VLAN DHCP Pool
ip dhcp pool ADMIN-POOL
 network 192.168.10.0 255.255.255.0
 default-router 192.168.10.1
 dns-server 8.8.8.8 8.8.4.4
 domain-name company.local
 lease 8

! Sales VLAN DHCP Pool
ip dhcp pool SALES-POOL
 network 192.168.20.0 255.255.255.0
 default-router 192.168.20.1
 dns-server 192.168.30.5
 option 150 ip 192.168.30.10
 lease 4

! IT VLAN DHCP Pool (with reservations)
ip dhcp pool IT-POOL
 network 192.168.30.0 255.255.255.0
 default-router 192.168.30.1
 dns-server 192.168.30.5 192.168.30.6
 domain-name it.company.local

! DHCP Reservation for Server
host SERVER-01
 hardware-address 0050.7966.6800
 ip-address 192.168.30.50
 client-name FILESERVER01

! Configure DHCP relay on interface
interface Vlan20
 ip helper-address 192.168.30.100

! Verification commands
! show ip dhcp pool
! show ip dhcp binding
! show ip dhcp server statistics
! debug ip dhcp server packet
