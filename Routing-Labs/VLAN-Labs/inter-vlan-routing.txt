! Inter-VLAN Routing on Layer 3 Switch
! Created: March 2024
! Lab: Router-on-a-Stick Alternative

! Enable IP routing
ip routing

! Create VLANs
vlan 10
 name ADMIN
vlan 20
 name SALES
vlan 30
 name IT
vlan 99
 name NATIVE

! Configure SVI (Switch Virtual Interfaces)
interface Vlan10
 description Admin Department Gateway
 ip address 192.168.10.1 255.255.255.0
 no shutdown
!
interface Vlan20
 description Sales Department Gateway
 ip address 192.168.20.1 255.255.255.0
 no shutdown
!
interface Vlan30
 description IT Department Gateway
 ip address 192.168.30.1 255.255.255.0
 no shutdown

! Configure trunk port
interface GigabitEthernet1/0/1
 description Uplink to Distribution Switch
 switchport trunk encapsulation dot1q
 switchport mode trunk
 switchport trunk native vlan 99
 switchport trunk allowed vlan 10,20,30,99
 no shutdown

! Configure access ports
interface range FastEthernet0/1-24
 switchport mode access
 switchport access vlan 10
 spanning-tree portfast
 no shutdown

! Default route for internet access
ip route 0.0.0.0 0.0.0.0 192.168.1.1

! Verification commands
! show ip interface brief
! show vlan
! show interface trunk
! ping 192.168.10.1 source 192.168.20.1
